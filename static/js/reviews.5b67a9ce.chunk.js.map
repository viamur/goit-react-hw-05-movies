{"version":3,"file":"static/js/reviews.5b67a9ce.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","utils/api.js","utils/status.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"notInfo\":\"Reviews_notInfo__h2WiR\",\"list\":\"Reviews_list__okdpy\",\"item\":\"Reviews_item__DJKij\",\"author\":\"Reviews_author__CqYAZ\",\"content\":\"Reviews_content__13k0w\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport status from '../../utils/status';\nimport api from 'utils/api';\nimport s from './Reviews.module.css';\n\nconst Reviews = () => {\n  const [data, setData] = useState([]);\n  const [statusPage, setStatusPage] = useState(status.START);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const fetch = async () => {\n      setStatusPage(status.LOADING);\n      try {\n        const response = await api.reviews(movieId);\n        setData(response);\n        setStatusPage(status.FINISH);\n      } catch (error) {\n        console.log(error);\n        setStatusPage(status.EROR);\n      }\n    };\n    fetch();\n    // eslint-disable-next-line\n  }, []);\n\n  if (statusPage === status.FINISH) {\n    if (data.length === 0)\n      return <p className={s.notInfo}>We don't have any reviews for this movie</p>;\n    if (data.length !== 0) {\n      return (\n        <ul className={s.list}>\n          {data.map((el, idx) => (\n            <li className={s.item} key={idx}>\n              <p className={s.author}>\n                <b>Author: </b> {el.author}\n              </p>\n              <p className={s.content}>{el.content}</p>\n            </li>\n          ))}\n        </ul>\n      );\n    }\n  }\n  if (statusPage === status.LOADING) {\n    return <p>Loading...</p>;\n  }\n\n  if (statusPage === status.LOADING) {\n    return <p>Eror...</p>;\n  }\n};\n\nexport default Reviews;\n","import axios from 'axios';\n\nclass apiFetch {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '0a4aab5daca4d3b8b09b771948ad9265';\n  #SEARCH = 'search/movie';\n  #TRAND = 'trending/movie/day';\n  #ALL = 'movie/';\n\n  /* Запрос на ТРЕНДЫ */\n  trend = async page => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#TRAND}?api_key=${this.#API_KEY}&page=${page}`\n    );\n    return respons.data.results;\n  };\n\n  /* Запрос ПОИСК ИНПУТ */\n  search = async (query, page) => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#SEARCH}?api_key=${this.#API_KEY}&query=${query}&page=${page}`\n    );\n    return respons.data;\n  };\n\n  /* Запрос id */\n  id = async id => {\n    const respons = await axios.get(`${this.#BASE_URL}${this.#ALL}/${id}?api_key=${this.#API_KEY}`);\n    return respons.data;\n  };\n\n  /* Запрос Cast */\n  cast = async id => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#ALL}/${id}/credits?api_key=${this.#API_KEY}`\n    );\n    return respons.data.cast;\n  };\n\n  /* Запрос Reviews */\n  reviews = async id => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#ALL}/${id}/reviews?api_key=${this.#API_KEY}`\n    );\n    return respons.data.results;\n  };\n}\n\nconst api = new apiFetch();\nexport default api;\n","const status = {\n  LOADING: 'loading',\n  START: 'start',\n  FINISH: 'finish',\n  EROR: 'eror',\n};\nexport default status;\n"],"names":["useState","data","setData","status","statusPage","setStatusPage","movieId","useParams","useEffect","fetch","api","response","console","log","length","className","s","map","el","idx","author","content","apiFetch","trend","page","axios","respons","results","search","query","id","cast","reviews","LOADING","START","FINISH","EROR"],"sourceRoot":""}