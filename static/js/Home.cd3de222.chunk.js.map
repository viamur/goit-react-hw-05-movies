{"version":3,"file":"static/js/Home.cd3de222.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/List/List.module.css?2bcc","components/List/List.jsx","webpack://react-homework-template/./src/components/Section/Section.module.css?dbe8","components/Section/Section.jsx","webpack://react-homework-template/./src/pages/Home/Home.module.css?1370","pages/Home/Home.jsx","utils/api.js","utils/status.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"List_list__AK7hC\",\"item\":\"List_item__WqTbr\",\"link\":\"List_link__EYABn\"};","import { Link, useLocation } from 'react-router-dom';\nimport s from './List.module.css';\n\nconst List = ({ data, isHome }) => {\n  const location = useLocation();\n  const url = isHome ? 'movies/' : '';\n\n  return (\n    <ul className={s.list}>\n      {data.map(el => (\n        <li key={el.id} className={s.item}>\n          <Link to={`${url}${el.id}`} state={{ from: location }} className={s.link}>\n            {el.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default List;\n","// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Section_section__Z2PLw\"};","import s from './Section.module.css';\n\nconst Section = ({ children }) => {\n  return <section className={s.section}>{children}</section>;\n};\nexport default Section;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Home_title__L087v\"};","import Section from '../../components/Section/Section';\nimport { useEffect, useState } from 'react';\nimport status from '../../utils/status';\nimport api from 'utils/api';\nimport List from '../../components/List/List';\nimport s from './Home.module.css';\n\nconst Home = () => {\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(1);\n  const [statusPage, setStatusPage] = useState(status.START);\n\n  useEffect(() => {\n    const fetch = async () => {\n      setStatusPage(status.LOADING);\n      try {\n        const response = await api.trend(page);\n        setData(response);\n        setStatusPage(status.FINISH);\n      } catch (error) {\n        console.log(error);\n        setStatusPage(status.EROR);\n        setPage(1);\n      }\n    };\n    fetch();\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <Section>\n      <h1 className={s.title}>Trending today</h1>\n      {statusPage === status.FINISH && <List data={data} isHome={true} />}\n      {statusPage === status.LOADING && <p>Загрузка</p>} {/* Скелетон надо сделать */}\n      {statusPage === status.EROR && <p>Erorr</p>}\n    </Section>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\nclass apiFetch {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '0a4aab5daca4d3b8b09b771948ad9265';\n  #SEARCH = 'search/movie';\n  #TRAND = 'trending/movie/day';\n  #ALL = 'movie/';\n\n  /* Запрос на ТРЕНДЫ */\n  trend = async page => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#TRAND}?api_key=${this.#API_KEY}&page=${page}`\n    );\n    return respons.data.results;\n  };\n\n  /* Запрос ПОИСК ИНПУТ */\n  search = async (query, page) => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#SEARCH}?api_key=${this.#API_KEY}&query=${query}&page=${page}`\n    );\n    return respons.data;\n  };\n\n  /* Запрос id */\n  id = async id => {\n    const respons = await axios.get(`${this.#BASE_URL}${this.#ALL}/${id}?api_key=${this.#API_KEY}`);\n    return respons.data;\n  };\n\n  /* Запрос Cast */\n  cast = async id => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#ALL}/${id}/credits?api_key=${this.#API_KEY}`\n    );\n    return respons.data.cast;\n  };\n\n  /* Запрос Reviews */\n  reviews = async id => {\n    const respons = await axios.get(\n      `${this.#BASE_URL}${this.#ALL}/${id}/reviews?api_key=${this.#API_KEY}`\n    );\n    return respons.data.results;\n  };\n}\n\nconst api = new apiFetch();\nexport default api;\n","const status = {\n  LOADING: 'loading',\n  START: 'start',\n  FINISH: 'finish',\n  EROR: 'eror',\n};\nexport default status;\n"],"names":["data","isHome","location","useLocation","url","className","s","map","el","to","id","state","from","title","children","useState","setData","page","setPage","status","statusPage","setStatusPage","useEffect","fetch","api","response","console","log","Section","List","apiFetch","trend","axios","respons","results","search","query","cast","reviews","LOADING","START","FINISH","EROR"],"sourceRoot":""}